{% extends "index.html" %}
{% block content%}
<button data-id="{{ i.id }}" class="btn btn-xs btn-danger del">新增录音</button><hr>
<table border="1" class="table table-striped table-bordered table-hover" id="editable">
<thead>
<tr>
    <th class="text-center sorting_1">选择框:</th>
    <th class="text-center sorting_1">序列号:</th>
    <th class="text-center sorting_1">姓名:</th>
    <th class="text-center sorting_1">分机号码:</th>
    <th class="text-center sorting_1">使用部门:</th>
    <th class="text-center sorting_1">端口位置:</th>
    <th class="text-center sorting_1">当前状态:</th>
    <th class="text-center sorting_1">操作</th>
</tr>
</thead>
    {% for i in result%}
        <tr>
        <td><input type="checkbox" user_id="{{ i.id }}" value="{{ i.id }}" placeholder="删除" /> </td>
        <td align="center">{{ i.id}}</td>
        <td align="center">{{ i.record_name }}</td>
        <td align="center">{{ i.record_number }}</td>
        <td align="center">{{ i.record_departmen }}</td>
        <td align="center">{{ i.record_port }}</td>
            <td align="center">{% if i.record_status == 0 %}<i style="color: #00CC00" aria-hidden="true">正常</i>{% else%}<i style="color:red" aria-hidden="true">禁用</i>{%endif%}</td>
        <td>
            <button data-id="{{ i.id }}" class="btn btn-xs btn-info update">编辑</button>
            <button data-id="{{ i.id }}" class="btn btn-xs btn-danger del">删除</button>
        </td>
        </tr>

    {% endfor %}
</table>
<script>
    $('#editable').DataTable({
        "bDestroy":true, //加上这个，一旦datatable的数据有增加或者删除，会销毁原有的，重新获取
        "language": {
                "lengthMenu": "每页 _MENU_ 条记录",
                "zeroRecords": "没有找到记录",
                "sInfo": "第 _PAGE_ 页 ( 总共 _PAGES_ 页 ),显示第 _START_ 至 _END_ 项(总共 _TOTAL_ 项)",
                "infoEmpty": "无记录",
                "infoFiltered": "(从 _MAX_ 条记录过滤)",
                "sSearch": "搜索:",
                "oPaginate": {
                "sFirst": "首页",
                "sPrevious": "上一页",
                "sNext": "下一页",
                "sLast": "末页"
                }
        },
        "order": [[ 1, "asc" ]]
    });
</script>
{% endblock%}

